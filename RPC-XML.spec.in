Summary: Implementation of XML-RPC for Perl
Name: ${NAME}
Version: ${VERSION}
Release: ${RELEASE}
Epoch: 1
Vendor: Randy J. Ray
Copyright: Artistic
Group: Applications/CPAN
Source: ${DISTNAME}-${VERSION}.tar.gz
Url: http://www.blackperl.com/${NAME}
BuildRequires: perl >= 0:5.00503
Requires: perl >= 0:5.00503
Provides: ${NAME} = ${VERSION}
BuildRoot: %{_tmppath}/%{name}-root
BuildArch: noarch

%description
The RPC::XML package for Perl is an implementation of the XML-RPC standard
as defined at <http://www.xmlrpc.com/spec>. It is written in pure Perl without
use or need of C (or XS) linkage. It does (at present) require the XML::Parser
and LWP CPAN modules for operation.

%prep
%setup -q -n ${DISTNAME}-%{version} 

%build
CFLAGS="$RPM_OPT_FLAGS" perl Makefile.PL

%clean 
rm -rf $RPM_BUILD_ROOT

%install
rm -rf $RPM_BUILD_ROOT
install_dir=/usr/lib/perl5/site_perl/5.005/i386-linux
mkdir -p $RPM_BUILD_ROOT/$installdir
make PREFIX=$RPM_BUILD_ROOT/usr install

[ -x /usr/lib/rpm/brp-compress ] && /usr/lib/rpm/brp-compress

find $RPM_BUILD_ROOT/usr -type f -print |
        sed "s@^$RPM_BUILD_ROOT@@g" |
        grep -v perllocal.pod |
        grep -v "\.packlist" > ${DISTNAME}-${VERSION}-filelist
if [ "$(cat ${DISTNAME}-${VERSION}-filelist)X" = "X" ] ; then
    echo "ERROR: EMPTY FILE LIST"
    exit -1
fi

%files -f ${DISTNAME}-${VERSION}-filelist
%defattr(-,root,root)

%changelog
* Fri Aug  10 2001 rjray <rjray@blackperl.com>
- Spec file template created
